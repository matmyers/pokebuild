<div id="top" class="btn-toolbar">
	<div class="dropdown">
		<button type="button" class="btn btn-secondary dropdown-toggle mr-2" data-toggle="dropdown">{{ tier }}</button>
		<div class="dropdown-menu">
			<button class="dropdown-item" (click)="setTier('OU')">OU</button>
			<button class="dropdown-item" (click)="setTier('UU')">UU</button>
			<button class="dropdown-item" (click)="setTier('RU')">RU</button>
			<button class="dropdown-item" (click)="setTier('NU')">NU</button>
			<button class="dropdown-item" (click)="setTier('PU')">PU</button>
			<button class="dropdown-item" (click)="setTier('LC')">LC</button>
			<button class="dropdown-item" (click)="setTier('Ubers')">Ubers</button>
			<button class="dropdown-item" (click)="setTier('VGC')">VGC</button>
		</div>
	</div>
	<button *ngIf="teamMembers.length < 6" class="btn btn-success mr-2" [disabled]="!tierSelected" (click)="printPokemon()">Add Pok&eacute;mon</button>
	<button *ngIf="teamMembers.length != 0" class="btn btn-primary mr-2" (click)="exportShowdown()">Export to Showdown</button>
	<div *ngIf="singlePokemonView[0]">
		<button class="btn btn-warning mr-2" (click)="enterTeamView()">&lt; Team View</button>
		<div class="d-inline">
			<div *ngFor="let member of teamMembers; let i = index" class="d-inline">
				<button (click)="editPoke(i)">
					<img src="{{teamSprites[i]}}">
				</button>
			</div>
		</div>
	</div>
</div>
<br>
<div *ngIf="exportClicked">
	<textarea class="w-100" rows="{{exportRows}}" autofocus>{{ exportText }}</textarea><br><br>
	<button class="btn btn-danger" (click)="exportClicked = false;">Hide Export Text</button><br><br>
</div>
<p *ngIf="teamMembers.length == 0; else teamNotEmpty">team is empty :(</p>
<ng-template #teamNotEmpty>
	<div *ngFor="let member of teamMembers; let j = index">
		<div id="cubby{{j}}" class="border border-dark rounded">
			<app-pkmncubby [team]="teamMembers" [teamSprites]="teamSprites" [singleDisplay]="singlePokemonView" [name]="member" [tier]="tier" [index]=j></app-pkmncubby>
		</div>
	</div>
</ng-template>
<div id="searchDisplayArea">
	<br><br>
	<div *ngIf="displayPokemon && teamMembers.length < 6">
		<input #searchPoke class="form-control" placeholder="Search for pokemon" (input)="onUpdateSearchPokemon($event)" (focus)="highlightPokemon();" (keydown)="navigatePokemon($event)">
		<br>
		<div class="container-fluid" style="background-color:#939dad;">
			<div class="row" style="font-weight:bold; height:25px;">
				<div class="col-sm-2 text-center">
		      <p>Name</p>
		    </div>
		    <div class="col-sm-2 text-left">
		      <p>Types</p>
		    </div>
		    <div class="col-sm-3 text-left">
		      <p>Abilities</p>
		    </div>
		    <div class="col-sm-5">
		    	<div class="container-fluid">
		    		<div class="row">
		    			<div class="col-sm-3 d-none d-lg-block"></div>
					    <div class="col-sm-1">
					    	<p>Stats</p>
					    </div>
		    		</div>
		    	</div>
		    </div>
			</div>
		</div>
		<virtual-scroll [items]="tierpkmn" (update)="updateViewPort($event)">
	    <div *ngFor="let poke of viewPortItems; let i = index;">
	    	<div *ngIf="tierKeys.indexOf(poke) != -1; else notaDivider" class="container-fluid" style="color:#fff; background-color:#000;">
          <div class="row" style="font-weight:bold; height:25px;">
            <div class="col text-left">
              <p>{{poke}}</p>
            </div>
          </div>
        </div>
				<ng-template #notaDivider>
					<button attr.id="listedpkmn{{i}}" class="btn btn-outline-dark btn-sm btn-block" style="height:50px;" (click)="addTeamMember(poke)" (mouseover)="setHover(i)">
						<div class="container">
							<div class="row">
								<div class="col-sm-2 text-left">
						      <img src="{{ sprites[i] }}">
						      <p class="d-inline"> {{ poke }}</p>
						    </div>
						    <div class="col-sm-2 text-left">
						      <img *ngFor="let type of allData[poke].types" src="../../assets/types/{{ type }}.png">
						    </div>
						    <div class="col-sm-1 text-left mt-2" style="line-height:4px">
						      <p> {{ allData[poke]['abilities'][0] }}</p>
						      <p> {{ allData[poke]['abilities'][1] }}</p>
						    </div>
						    <div class="col-sm-2 mt-2" style="line-height:4px">
						      <p> {{ allData[poke]['abilities'][2] }}</p>
						      <p> {{ allData[poke]['abilities'][3] }}</p>
						    </div>
						    <div class="col-sm-5">
						    	<div class="container-fluid">
						    		<div class="row row-bottom-margin">
						    			<div class="col-sm-3 d-none d-lg-block"></div>
						    			<div class="col-sm-1">
						    				<p>HP</p>
						    			</div>
						    			<div class="col-sm-1">
						    				<p>Atk</p>
						    			</div>
						    			<div class="col-sm-1">
						    				<p>Def</p>
						    			</div>
						    			<div class="col-sm-1">
						    				<p>SpA</p>
						    			</div>
						    			<div class="col-sm-1">
						    				<p>SpD</p>
						    			</div>
						    			<div class="col-sm-1">
						    				<p>Spe</p>
						    			</div>
						    			<div class="col-sm-3 d-none d-lg-block"></div>
						    		</div>
						    		<div class="row">
						    			<div class="col-sm-3 d-none d-lg-block"></div>
						    			<div class="col-sm-1">
						    				<p> {{ allData[poke]['baseStats'][0] }} </p>
						    			</div>
						    			<div class="col-sm-1">
						    				<p> {{ allData[poke]['baseStats'][1] }} </p>
						    			</div>
						    			<div class="col-sm-1">
						    				<p> {{ allData[poke]['baseStats'][2] }} </p>
						    			</div>
						    			<div class="col-sm-1">
						    				<p> {{ allData[poke]['baseStats'][3] }} </p>
						    			</div>
						    			<div class="col-sm-1">
						    				<p> {{ allData[poke]['baseStats'][4] }} </p>
						    			</div>
						    			<div class="col-sm-1">
						    				<p> {{ allData[poke]['baseStats'][5] }} </p>
						    			</div>
						    			<div class="col-sm-3 d-none d-lg-block"></div>
						    		</div>
						    	</div>
						    </div>
							</div>
						</div>
					</button>
				</ng-template>
			</div>
		</virtual-scroll>
	</div>
</div>